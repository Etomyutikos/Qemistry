<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">

<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Usage Guide - Qemistry</title><link rel="stylesheet" type="text/css" href="../styles/main.css"><script language=JavaScript src="../javascript/main.js"></script><script language=JavaScript src="../javascript/prettify.js"></script><script language=JavaScript src="../javascript/searchdata.js"></script></head><body class="ContentPage" onLoad="NDOnLoad();prettyPrint();"><script language=JavaScript><!--
if (browserType) {document.write("<div class=" + browserType + ">");if (browserVer) {document.write("<div class=" + browserVer + ">"); }}// --></script>

<!--  Generated by Natural Docs, version 1.52 -->
<!--  http://www.naturaldocs.org  -->

<!-- saved from url=(0026)http://www.naturaldocs.org -->




<div id=Content><div class="CSection"><div class=CTopic id=MainTopic><h1 class=CTitle><a name="Usage_Guide"></a>Usage Guide</h1><div class=CBody><p>&lt;queue&gt; = QeM.Queue:new( &lt;balance as a string, table of strings, a function, a table of functions, or boolean value&gt;, [&lt;option as a single string, or a table of options&gt;] )</p><p>This will instantiate a new Queue.&nbsp; If passed a string value, that string must point to a boolean variable acting as &ldquo;balance.&rdquo;&nbsp; Example: = QeM.Queue:new( &ldquo;my_system.balance_variables.balance&rdquo; ) or = QeM.Queue:new( &ldquo;balance_variable&rdquo; ) If passed a table value, that table must contain a list of strings, functions, or some combination thereof.&nbsp; In Lua, any value that is not false or nil will evaluate to true.&nbsp; Keep this in mind when passing a function; also, that function must return a value.&nbsp; Example: = QeM.Queue:new( {&ldquo;balance&rdquo;, &ldquo;equilibrium&rdquo;} ) or = QeM.Queue:new( {&ldquo;my_system.balance&rdquo;, &ldquo;my_system.equilibrium&rdquo;} ) = QeM.Queue:new( function () return my_system.balance end ) = QeM.Queue:new( {&ldquo;my_system.balance&rdquo;, function () return my_system.equilibrium end} ) = QeM.Queue:new( somePredefinedFunction() ) If passed a boolean, it must be true, or the Queue won&rsquo;t work.&nbsp; Example: = QeM.Queue:new( true ) Options are passed the following ways, and are optional: Example: = QeM.Queue:new( &ldquo;balance&rdquo;, &ldquo;strict_order&rdquo; ) = QeM.Queue:new( &ldquo;balance&rdquo;, {&ldquo;strict_order&rdquo;, &ldquo;single_step&rdquo;} )</p><h4 class=CHeading>Currently supported options are</h4><p>strict_order: Maintains the order of actions in the Queue, regardless of consumed or required balance.&nbsp; When executing actions that consume balance, the Queue will need to be manually re-executed (or the act() call included in the code of the consumed action itself). single_step: The Queue does not re-execute itself, except in the case of a consumed balance going unconsumed.</p><p>&lt;queue&gt;:add( &lt;action as a table containing a code field, and a required and/or consumed field&gt; ) &lt;queue&gt;:add( &lt;action as a string or function&gt; )</p><p>If passed a string or function, then QeMistry assumes the action requires, but does not consume the same balance as the Queue itself.&nbsp; This string or function must contain the action to be taken.&nbsp; If the value is a string, that value will be sent to the MuD as a command using the Mudlet function send().&nbsp; If the value is a function, it will be executed when the Queue calls for it.&nbsp; Example: add( function () echo( &ldquo;Do stuff!&rdquo;&nbsp; ) end ) or add( &ldquo;Do stuff!&rdquo;&nbsp; ) If passed a table, then the table may contain a code field.&nbsp; This code field, or the table itself, must contain a list of strings or functions to be executed.&nbsp; Example: add( {code = {&ldquo;Do stuff!&rdquo;, &ldquo;Do more stuff!&rdquo;}} ) or add( {function () echo( &ldquo;Do stuff!&rdquo;&nbsp; ) end, function () echo( &ldquo;Do more stuff!&rdquo;&nbsp; ) end} ) or add( {&ldquo;Do stuff!&rdquo;, function () echo( &ldquo;Do more stuff!&rdquo;) end} ) Optionally, the table can contain either/both a required field and/or a consumed field.&nbsp; If the table contains a required or consumed field, the code must be enclosed in a code field.&nbsp; These fields must be a string pointing to a boolean variable acting as &ldquo;balance,&rdquo; or a function that will return a boolean value.&nbsp; In the case of the required field, this can be a boolean value itself.&nbsp; If these fields are omitted, then it is assumed this action requires the same balance as the Queue itself.&nbsp; Example: add( {code = &ldquo;code&rdquo;, required = &ldquo;my_system.balance&rdquo;} ) or add( {code = &ldquo;code&rdquo;, consumed = &ldquo;my_system.balance&rdquo;} ) or add( {code = &ldquo;code&rdquo;, required = &ldquo;my_system.balance&rdquo;, consumed = &ldquo;my_system.equilibrium&rdquo;} ) add( {code = &ldquo;code&rdquo;, required = &ldquo;my_system.balance&rdquo;, consumed = function () return my_system.equilibrium end} ) You can pass both the consumed and required fiels as tables for multiple balances.&nbsp; Example: add( {code = &ldquo;code&rdquo;, required = {&ldquo;my_system.balance&rdquo;, &ldquo;my_system.equilibrium&rdquo;} ) add( {code = &ldquo;code&rdquo;, required = {function () return my_system.balance end, somePredefinedFunction()}} )</p><p>&lt;queue&gt;:reset()</p><p>This will empty the action list for the Queue.</p><p>&lt;queue&gt;:act()</p><p>This is to be called whenever the Queue should process the next action in its list.&nbsp; The Queue will first check to see if the balance variable it points to contains true.&nbsp; If so, then it will make sure there are actions in its action list.&nbsp; Next, the Queue will run through all actions in its action list that contain a required field, but not a consumed field, and execute them.&nbsp; Finally, it will execute the first action in its list that contains a consumed field.&nbsp; The Queue itself does not change the balance variable pointed to by the consumed field; instead, it uses a 0.5 second tempTimer to check that balance variable to make sure it has been set to false.&nbsp; If that variable is not false, it reinserts the attempted action at the beginning of the Queue&rsquo;s action list.</p></div></div></div>

</div><!--Content-->


<div id=Footer>Copyright &copy; 2012 Erik Pettis&nbsp; &middot;&nbsp; Last Updated the 7th of March, 2012&nbsp; &middot;&nbsp; <a href="http://www.naturaldocs.org">Generated by Natural Docs</a></div><!--Footer-->


<div id=Menu><div class=MTitle>Qemistry<div class=MSubTitle>Queue Manager for Mudlet</div></div><div class=MEntry><div class=MFile><a href="init-lua.html">Qemistry</a></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent1')">Index</a><div class=MGroupContent id=MGroupContent1><div class=MEntry><div class=MIndex><a href="../index/General.html">Everything</a></div></div><div class=MEntry><div class=MIndex><a href="../index/Files.html">Files</a></div></div><div class=MEntry><div class=MIndex><a href="../index/Functions.html">Functions</a></div></div><div class=MEntry><div class=MIndex><a href="../index/Variables.html">Variables</a></div></div></div></div></div><div class=MEntry><div class=MFile><a href="license-txt.html">License</a></div></div><div class=MEntry><div class=MFile id=MSelected>Usage Guide</div></div><script type="text/javascript"><!--
var searchPanel = new SearchPanel("searchPanel", "HTML", "../search");
--></script><div id=MSearchPanel class=MSearchPanelInactive><input type=text id=MSearchField value=Search onFocus="searchPanel.OnSearchFieldFocus(true)" onBlur="searchPanel.OnSearchFieldFocus(false)" onKeyUp="searchPanel.OnSearchFieldChange()"><select id=MSearchType onFocus="searchPanel.OnSearchTypeFocus(true)" onBlur="searchPanel.OnSearchTypeFocus(false)" onChange="searchPanel.OnSearchTypeChange()"><option  id=MSearchEverything selected value="General">Everything</option><option value="Files">Files</option><option value="Functions">Functions</option><option value="Variables">Variables</option></select></div></div><!--Menu-->



<!--START_ND_TOOLTIPS-->
<!--END_ND_TOOLTIPS-->




<div id=MSearchResultsWindow><iframe src="" frameborder=0 name=MSearchResults id=MSearchResults></iframe><a href="javascript:searchPanel.CloseResultsWindow()" id=MSearchResultsWindowClose>Close</a></div>


<script language=JavaScript><!--
if (browserType) {if (browserVer) {document.write("</div>"); }document.write("</div>");}// --></script></body></html>